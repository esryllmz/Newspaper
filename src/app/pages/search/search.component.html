<div class="search-page">
  <div class="container">
    
    <div class="search-header">
      <h1 class="page-title">Haber Ara</h1>

      <form (ngSubmit)="onSearch()" class="search-form">
        <input
          type="text"
          [(ngModel)]="searchQuery"
          name="search"
          placeholder="Aramak istediğiniz haberi yazın..."
          class="search-input"
        />
        <button type="submit" class="search-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          Ara
        </button>
      </form>

      
      <div class="search-info" *ngIf="currentQuery && !loading">
        <p>
          <strong>"{{ currentQuery }}"</strong> için arama sonuçları
          <span *ngIf="newsArticles.length > 0">({{ newsArticles.length }} sonuç bulundu)</span>
          <span *ngIf="newsArticles.length === 0">(Sonuç bulunamadı)</span>
        </p>
      </div>
    </div>

    
    <div class="loading" *ngIf="loading">
      <div class="spinner"></div>
      <p>Arama yapılıyor...</p>
    </div>

    
    <div class="error-message" *ngIf="error && !loading">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <p>{{ error }}</p>
    </div>

    <div class="news-grid" *ngIf="newsArticles.length > 0 && !loading">
      <app-news-card
        *ngFor="let article of newsArticles"
        [article]="article"
      ></app-news-card>
    </div>

  
    <app-pagination
      *ngIf="totalPages > 1 && !loading"
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      (pageChange)="onPageChange($event)"
    ></app-pagination>
  </div>
</div>
